def get_freq_pairs(seq:list)->dict:
    freq_pairs={}
    for p1,p2 in zip(seq[:-1],seq[1:]):
        freq_pairs[(p1,p2)]=freq_pairs.get((p1,p2),0)+1
    
    return freq_pairs

def merge(seq:list,pair:tuple,idx:int)->list:
    new_seq=[]
    # for i in range(len(seq)-1):
    i=0
    if len(seq)==1:
        return seq#no merge possible
    
    while i < len(seq)-1:
        if seq[i]==pair[0] and seq[i+1]==pair[1]:
            new_seq.append(idx)
            i+=2
        else:
            new_seq.append(seq[i])
            if i==(len(seq)-2):
                new_seq.append(seq[-1])
                i+=1
            i+=1
    
    return new_seq
    
def unmerge(seq:list,pair:tuple,idx:int)->list:
    new_seq=[]
    for val in seq:
        if val==idx:
            new_seq.extend([i for i in pair])
        else:
            new_seq.append(val)
    
    return new_seq

def bpe(seq:str,num_merges:int)->dict:
     
    seq=list(seq.encode('utf-8'))
    merges={}
    i=256
    while num_merges:
        pairs=get_freq_pairs(seq)
        pair=max(pairs,key=pairs.get)
        # print('length of seq before:',len(seq))
        seq=merge(seq,pair,i)
        print(f'merged {pair} to {i}')
        # print('number of occurance of pair:',pairs[pair])
        # print('length of seq after :',len(seq))
        merges[pair]=i
        i+=1
        num_merges-=1
        
    return merges
        

def encode(seq:str,merges:dict)->list:
    '''
    this implementation has more room for optimisation
    '''
    # print(merges)
    seq=list(seq.encode('utf-8'))
    for pair,idx in merges.items():
        seq=merge(seq,pair,idx)
    return seq


 
def decode(seq:list,merges:dict)->list:
    '''
    this implementation has more room for optimisation
    '''
    
    for pair,idx in reversed(merges.items()):
        
        seq=unmerge(seq,pair,idx)
        
    return bytes(seq).decode('utf-8',errors='replace')
        
     
            
        
    
        
        
    
    

if __name__=="__main__":
    # different text sequences to check the working of bpe
    text=r"""Taylor Alison Swift (born December 13, 1989) is an American singer-songwriter known for her autobiographical songwriting and genre versatility. She has become one of the 21st century's most prominent entertainers and best-selling artists, with seven albums achieving one million first-week US sales. Swift is the first billionaire with music as the primary source of income. She is the richest female musician and the highest-grossing touring artist.

Swift signed to Big Machine Records in 2005, debuting as a country singer with the albums Taylor Swift (2006) and Fearless (2008). The singles "Teardrops on My Guitar", "Love Story", and "You Belong with Me" found crossover success on country and pop radio formats. She incorporated rock on Speak Now (2010) and electronic on Red (2012), later re-calibrating her image from country to pop with the synth-pop set 1989 (2014); the ensuing media scrutiny inspired the hip-hop-imbued Reputation (2017). The albums contained the Billboard Hot 100 number-one singles "We Are Never Ever Getting Back Together", "Shake It Off", "Blank Space", "Bad Blood", and "Look What You Made Me Do".

Shifting to Republic Records in 2018, Swift released the electropop album Lover (2019) and explored indie folk styles in the 2020 albums Folklore and Evermore. She experimented with subdued pop genres on Midnights (2022) and The Tortured Poets Department (2024), and began re-recording her Big Machine albums as Taylor's Version[a] due to an ownership dispute with the label. Through the 2020s, she garnered the US number-one songs "Cardigan", "Willow", "All Too Well", "Anti-Hero", "Cruel Summer", "Is It Over Now?", and "Fortnight". She has embarked on six concert tours, including the Eras Tour (2023–2024), the highest-grossing tour of all time. Her films include Miss Americana (2020), All Too Well: The Short Film (2021), and The Eras Tour (2023)—the highest-grossing concert film.

Swift has received extensive media coverage and has a global fanbase known as Swifties. Swift has been listed amongst history's greatest artists by publications such as Rolling Stone and Billboard, as well as the only individual from the arts to have been named the Time Person of the Year (2023). Her accolades include 14 Grammy Awards (including a record four Album of the Year wins), a Primetime Emmy Award, and a record five IFPI Global Recording Artist of the Year awards. Swift is the most-awarded artist of the American Music Awards (40), the Billboard Music Awards (49), and the MTV Video Music Awards (30).
Early life

Taylor Alison Swift was born on December 13, 1989, in West Reading, Pennsylvania.[1] She is named after the singer-songwriter James Taylor.[2][3] Her father, Scott Kingsley Swift, was a stockbroker for Merrill Lynch, and her mother, Andrea Gardner Swift (née Finlay), worked as a mutual fund marketing executive.[4] Swift's younger brother, Austin, is an actor.[5] The siblings are of Scottish, English, and German descent, with distant Italian and Irish ancestry.[6][7][8] Their maternal grandmother, Marjorie Finlay (née Moehlenkamp), was an opera singer,[9] whose singing in church became one of Swift's earliest memories of music that shaped her career.[4]

Swift spent her early years on a Christmas tree farm in Pennsylvania that her father had purchased from one of his clients,[10] and she spent her summers at her family's vacation home in Stone Harbor, New Jersey, where she occasionally performed acoustic songs at a local coffee shop.[11] She is Christian[12] and attended preschool and kindergarten at a Montessori school run by the Bernardine Sisters of St. Francis before transferring to the Wyndcroft School.[13][14] When her family moved to Wyomissing, she attended Wyomissing Area Junior/Senior High School.[15][16] As a child, she performed in Berks Youth Theatre Academy productions[17] and traveled regularly to New York City for vocal and acting lessons.[18] Her early love for country music was influenced by Shania Twain, Patsy Cline, LeAnn Rimes, and the Dixie Chicks,[14] and she spent weekends performing at local festivals and events.[19][20] After watching a documentary about Faith Hill, she became determined to pursue a country music career in Nashville, Tennessee.[21]

At 11, Swift traveled to Nashville with her mother to visit record labels and submit demo tapes of Dolly Parton and Dixie Chicks karaoke covers.[22] She was rejected by all the labels, which led her to focus on songwriting.[23] She started learning the guitar at 12 with the help of Ronnie Cremer, a computer repairman and local musician who also assisted Swift with writing an original song.[24] In 2003, Swift and her parents started working with the talent manager Dan Dymtrow. With his help, Swift modeled for Abercrombie & Fitch and had an original song included on a Maybelline compilation CD.[25] After performing original songs at an RCA Records showcase, 13-year-old Swift was given an artist development deal and began to travel regularly to Nashville with her mother.[26][27] To help Swift break into the country music scene, her father transferred to Merrill Lynch's Nashville office when she was 14 years old, and the family relocated to Hendersonville, Tennessee.[28][29] Swift attended Hendersonville High School[30] before transferring to Aaron Academy after two years, which better accommodated her touring schedule through homeschooling. She graduated one year early.[3][31]
Career
2004–2008: Career beginnings and first album

In Nashville, Swift worked with experienced Music Row songwriters such as Troy Verges, Brett Beavers, Brett James, Mac McAnally, and the Warren Brothers[32][33] and formed a lasting working relationship with Liz Rose.[34] They began meeting for two-hour writing sessions every Tuesday afternoon after school.[35] Rose called the sessions "some of the easiest I've ever done. Basically, I was just her editor. She'd write about what happened in school that day. She had such a clear vision of what she was trying to say. And she'd come in with the most incredible hooks." At 14, Swift became the youngest artist signed by Sony/ATV Tree Music Publishing.[36] She left RCA Records due to the label's lack of care and their "cut[ting] other people's stuff". She was also concerned that development deals can shelve artists[27][20] and recalled: "I genuinely felt that I was running out of time. I wanted to capture these years of my life on an album while they still represented what I was going through."[37]
Taylor Swift singing on a microphondef text_to_bytes(text:str)->bytes:
    return list(text.encode('utf-8'))

e and playing a guitar
Swift opening for Brad Paisley in 2007. To promote her first album, she opened tours for other country musicians in 2007 and 2008.[38]

At an industry showcase at Nashville's Bluebird Cafe in 2005, Swift caught the attention of Scott Borchetta, a DreamWorks Records executive who was preparing to form an independent record label, Big Machine Records. She had first met Borchetta in 2004.[39] She was one of Big Machine's first signings,[27] and her father purchased a three-percent stake in the company for an estimated $120,000.[40][41][42] She began working on her eponymous debut album with Nathan Chapman.[20] Swift wrote or co-wrote all album tracks, and co-writers included Rose, Robert Ellis Orrall, Brian Maher, and Angelo Petraglia.[43] Released in October 2006, Taylor Swift peaked at number five on the US Billboard 200, on which it spent 157 weeks—the longest stay on the chart by any release in the US in the 2000s decade.[44][45] Swift became the first female country music artist to write or co-write every track on a platinum-certified debut album.[46]

Big Machine Records was still in its infancy during the June 2006 release of the lead single, "Tim McGraw", which Swift and her mother helped promote by packaging and sending copies of the CD single to country radio stations.[47] She spent much of 2006 promoting Taylor Swift with a radio tour and television appearances; she opened for Rascal Flatts on select dates during their 2006 tour,[48] as a replacement for Eric Church.[49] Borchetta said that although record industry peers initially disapproved of his signing a 15-year-old singer-songwriter, Swift tapped into a previously unknown market—teenage girls who listen to country music.[47][28]

Following "Tim McGraw", four more singles were released throughout 2007 and 2008: "Teardrops on My Guitar", "Our Song", "Picture to Burn", and "Should've Said No". All appeared on Billboard's Hot Country Songs, with "Our Song" and "Should've Said No" reaching number one. "Our Song" made Swift the youngest person to single-handedly write and sing a Hot Country Songs number-one single,[50] and "Teardrops on My Guitar" was Swift's breakthrough single on mainstream radio and charts.[51][52][53] Swift released two EPs, The Taylor Swift Holiday Collection in October 2007 and Beautiful Eyes in July 2008.[54][55] She promoted her debut album extensively as the opening act for other country musicians' tours in 2006 and 2007, including those by George Strait,[56] Brad Paisley,[57] and Tim McGraw and Faith Hill.[58]

Swift won multiple accolades for Taylor Swift. She was one of the recipients of the Nashville Songwriters Association's Songwriter/Artist of the Year in 2007, becoming the youngest person given the title.[59] She also won the Country Music Association's Horizon Award for Best New Artist,[60] the Academy of Country Music Awards' Top New Female Vocalist,[61] and the American Music Awards' Favorite Country Female Artist honor.[62] She was also nominated for Best New Artist at the 50th Annual Grammy Awards.[63] In 2008, she opened for Rascal Flatts again[64] and briefly dated the singer Joe Jonas.[65]
2008–2010: Fearless
Taylor Swift in 2009
Swift at the 2009 premiere of Hannah Montana: The Movie. She had a cameo appearance in the film and wrote two songs for its soundtrack.

Swift's second studio album, Fearless, was released in November 2008 in North America,[66] and in March 2009 in other markets.[67] On the Billboard 200, Fearless spent 11 weeks at number one, becoming Swift's first chart topper and the longest-running number-one female country album.[68] It was the bestselling album of 2009 in the US.[69] Its lead single, "Love Story", was her first number one in Australia and the first country song to top Billboard's Pop Songs chart,[70][71] and its third single, "You Belong with Me", was the first country song to top Billboard's all-genre Radio Songs chart.[72] Three other singles were released in 2008–2010: "White Horse", "Fifteen", and "Fearless". All five singles were Hot Country Songs top 10 entries, with "Love Story" and "You Belong with Me" topping the chart.[73] In 2009, Swift toured as an opening act for Keith Urban and embarked on her first headlining tour, the Fearless Tour.[74]

"You Belong with Me" won Best Female Video at the 2009 MTV Video Music Awards.[75] Her acceptance speech was interrupted by the rapper Kanye West, an incident that became the subject of controversy and widespread media coverage.[76] That year, Swift won five American Music Awards, including Artist of the Year and Favorite Country Album.[77] Billboard named her the 2009 Artist of the Year.[78] She won Video of the Year and Female Video of the Year for "Love Story" at the 2009 CMT Music Awards, where she made a parody video of the song with rapper T-Pain called "Thug Story".[79] At the 52nd Annual Grammy Awards, Fearless was named Album of the Year and Best Country Album, and "White Horse" won Best Country Song and Best Female Country Vocal Performance.[80] At the 2009 Country Music Association Awards, Swift won Album of the Year for Fearless and was named Entertainer of the Year, the youngest person to win the honor.[81]

Throughout 2009, Swift featured on and wrote other musicians' releases. She featured on "Half of My Heart" by John Mayer, whom she was romantically linked with in late 2009.[82][83] She wrote "Best Days of Your Life" for Kellie Pickler,[84] co-wrote and featured on Boys Like Girls' "Two Is Better Than One,[85] and wrote two songs—"You'll Always Find Your Way Back Home" and "Crazier"—for the soundtrack of Hannah Montana: The Movie, in which she had a cameo appearance.[86][87] She wrote and recorded "Today Was a Fairytale" for the soundtrack of Valentine's Day (2010), in which she had her acting debut.[88] "Today Was a Fairytale" was her first number-one single on the Canadian Hot 100.[89] While shooting Valentine's Day in October 2009, Swift dated co-star Taylor Lautner.[90] On television, she made her debut as a rebellious teenager in an CSI: Crime Scene Investigation episode[91] and hosted and performed as the musical guest on Saturday Night Live; she was the first host ever to write their own opening monologue.[92][93]
2010–2014: Speak Now and Red
Swift singing into a mic while playing a guitar, dressed in a purple dress
Swift on the Speak Now World Tour in 2011

Swift's third studio album, Speak Now, was released in October 2010.[94] Written solely by Swift,[95] the album debuted the Billboard 200 with over one million US copies sold first week[96] and became the fastest-selling digital album by a female artist.[97] Speak Now was supported by six singles: "Mine", "Back to December", "Mean", "The Story of Us", "Sparks Fly", and "Ours". "Mine" peaked at number three and was the highest-charting single on the Billboard Hot 100,[98] the first three singles reached the top 10 in Canada,[89] and the last two reached number one on Hot Country Songs.[73] Swift promoted Speak Now with the Speak Now World Tour from February 2011 to March 2012[99] and the live album Speak Now World Tour – Live.[100] At the 54th Annual Grammy Awards in 2012, Swift performed "Mean", which won Best Country Song and Best Country Solo Performance.[101] She was named Songwriter/Artist of the Year by the Nashville Songwriters Association (2010 and 2011),[102][103] Woman of the Year by Billboard (2011),[104] and Entertainer of the Year by the Academy of Country Music (2011 and 2012)[105] and the Country Music Association in 2011.[106] At the American Music Awards of 2011, Swift won Artist of the Year and Favorite Country Album.[107] Rolling Stone named Speak Now on its list of "50 Best Female Albums of All Time" (2012).[108]

Red, Swift's fourth studio album, was released in October 2012.[109] On Red, Swift worked with Chapman and new producers including Max Martin, Shellback, Dan Wilson, Jeff Bhasker, Dann Huff, and Butch Walker, resulting in a genre-spanning record that incorporated eclectic styles of pop and rock such as Britrock, dubstep, and dance-pop.[110][111] The album opened at number one on the Billboard 200 with 1.21 million sales[112] and was Swift's first number-one album in the UK.[113] Its lead single, "We Are Never Ever Getting Back Together", was her first number one on the Billboard Hot 100,[114] and its third single, "I Knew You Were Trouble", reached the top five on charts worldwide.[115] Other singles from Red were "Begin Again", "22", "Everything Has Changed", "The Last Time", and "Red".[116]
Swift in a red marching-band outfit holding a mic
Swift on the Rbpeed Tour in 2013

Red and its single "Begin Again" received three nominations at the 56th Annual Grammy Awards (2014).[117] Swift received American Music Awards for Best Female Country Artist in 2012, Artist of the Year in 2013,[118][119] and the Nashville Songwriters Association's Songwriter/Artist Award for the fifth and sixth consecutive years.[120] At the 2014 Country Music Association Awards, Swift was honored with the Pinnacle Award, making her the second recipient in history after Garth Brooks.[121] The Red Tour ran from March 2013 to June 2014 and became the highest-grossing country tour upon completion.[122]

Swift continued writing songs for films and featuring on other artists' releases. On the soundtrack album to The Hunger Games (2012), Swift wrote and recorded "Eyes Open" and "Safe & Sound"; the latter of which was co-written with the Civil Wars and T-Bone Burnett. "Safe & Sound" won the Grammy Award for Best Song Written for Visual Media.[123] She wrote and produced "Sweeter than Fiction" with Jack Antonoff for the soundtrack to One Chance (2013).[124] Swift featured on B.o.B's "Both of Us" (2012)[125] and provided vocals for Tim McGraw's "Highway Don't Care" (2013), also featuring Keith Urban.[126] She was a voice actress in The Lorax (2012),[127] made a cameo in the sitcom New Girl (2013),[128] and had a supporting role in the dystopian film The Giver (2014).[129] From 2010 to 2013, Swift was romantically involved with the actor Jake Gyllenhaal, the political heir Conor Kennedy, and the singer Harry Styles.[83]
2014–2018: 1989 and Reputation
Swift performing on a mic, dressed in a blue skirt
Swift at the 1989 World Tour, the highest-grossing tour of 2015

In March 2014, Swift began living in New York City, which she credited as a creative influence on her fifth studio album, 1989.[note 1] She described 1989 as her first "official pop album" and produced it with Jack Antonoff, Max Martin, Shellback, Imogen Heap, Ryan Tedder, and Ali Payami.[132] Released in October 2014, the album opened atop the Billboard 200 with 1.28 million copies sold.[133] Its singles "Shake It Off", "Blank Space", and "Bad Blood" reached number one in Australia, Canada, and the US, with the first two making Swift the first woman to replace herself at the Hot 100 top spot.[134] Other singles include "Style", "Wildest Dreams", "Out of the Woods", and "New Romantics".[135] The 1989 World Tour (2015) was the highest-grossing tour of the year with $250 million in total revenue.[136]

After publishing an op-ed in The Wall Street Journal stressing the importance of albums as a creative medium for artists,[137] in November 2014, Swift removed her catalog from ad-supported, free music streaming platforms such as Spotify.[138] In a June 2015 open letter, Swift criticized Apple Music for not offering royalties to artists during its free three-month trial period and threatened to withdraw her music from the platform,[139] which prompted Apple Inc. to announce that it would pay artists during the free trial period.[140] Swift then agreed to keep 1989 and her catalog on Apple Music.[141] Big Machine Records returned Swift's catalog to Spotify among other free streaming platforms in June 2017.[142]

Swift was named Billboard's Woman of the Year in 2014, becoming the first artist to win the award twice.[143] At the 2014 American Music Awards, Swift received the inaugural Dick Clark Award for Excellence.[144] On her 25th birthday in 2014, the Grammy Museum at L.A. Live opened an exhibit in her honor in Los Angeles that ran until October 4, 2015.[145][146] In 2015, Swift won the Brit Award for International Female Solo Artist.[147] "Bad Blood" won Video of the Year and Best Collaboration at the 2015 MTV Video Music Awards.[148] At the 58th Grammy Awards (2016), 1989 won Album of the Year and Best Pop Vocal Album, making Swift the first woman to win Album of the Year twice.[149]
Swift in a snake-embroiled bodysuit
Swift on her Reputation Stadium Tour (2018), the highest-grossing North American tour at the time

Swift dated the DJ Calvin Harris from March 2015 to June 2016.[150] They co-wrote the song "This Is What You Came For", featuring vocals from Rihanna; Swift was initially credited under the pseudonym Nils Sjöberg.[151] She recorded "I Don't Wanna Live Forever" with Zayn Malik for the soundtrack to Fifty Shades Darker (2017)[152] and won a Country Music Association Award for Song of the Year with "Better Man", which she wrote for the band Little Big Town.[153] In April 2016, Kanye West released the single "Famous", in which he references Swift in the line, "I made that bitch famous." Swift criticized West and said she never consented to the lyric, but West claimed that he had received her approval and his then-wife Kim Kardashian released video clips of Swift and West discussing the song amicably over the phone. The controversy made Swift a subject of an online "cancel" movement.[154] In late 2016, after briefly dating Tom Hiddleston, Swift began a six-year relationship with Joe Alwyn and retreated herself from the public spotlight.[155][156]

In August 2017, Swift successfully countersued David Mueller, a former radio jockey for KYGO-FM, who sued her for damages from loss of employment. Four years earlier, she informed Mueller's bosses that he had sexually assaulted her by groping her at an event.[157] The public controversies influenced Swift's sixth studio album, Reputation, which explored the impact of her fame and musically incorporated electropop with urban styles of hip hop and R&B.[158] Released in November 2017,[159] Reputation opened atop the Billboard 200 with 1.21 million US sales[160] and topped the charts in the UK, Australia, and Canada.[161] The album's lead single, "Look What You Made Me Do", was Swift's first UK number-one single[162] and topped charts in Australia, Ireland, New Zealand, and the US.[163] Its singles "...Ready for It?", "End Game", and "Delicate" were released to pop radio.[164] Reputation was nominated for a Grammy Award for Best Pop Vocal Album.[165] Swift featured on the country duo Sugarland's "Babe" (2018).[166]

At the 2018 American Music Awards, Swift won four awards, which made her accumulate 23 trophies in total and become the AMAs' most awarded female musician, surpassing Whitney Houston.[167] The same year, she embarked on her Reputation Stadium Tour,[168] which became the highest-grossing North American concert tour in history and grossed $345.7 million worldwide.[169]
2018–2021: Lover, Folklore, and Evermore

In November 2018, Swift signed a new deal with Universal Music Group, which promoted her subsequent albums under Republic Records' imprint.[170] The contract included a provision for Swift to maintain ownership of her masters. In addition, in the event that Universal sold any part of its stake in Spotify, it agreed to distribute a non-recoupable portion of the proceeds among its artists.[171][172]
A portrait of Swift
Swift at the American Music Awards of 2019, where she was named Artist of the Decade

Swift's first album with Republic Records, Lover, was released in August 2019.[173] She produced the album with Antonoff, Louis Bell, Frank Dukes, and Joel Little.[174] Lover peaked atop the charts of such countries as Australia, Canada, Ireland, Mexico, Norway, Sweden, the UK, and the US.[175] The album spawned five singles: "Me!", "You Need to Calm Down", "Lover", "The Man", and "Cruel Summer"; the first two singles peaked at number two on the Billboard Hot 100, and the lattermost single became a resurgent success in 2023, reaching number one.[176] Lover was 2019's best selling album in the US and best selling album by a solo artist worldwide.[177] The album and its singles earned three nominations at the 62nd Annual Grammy Awards in 2020.[178] At the 2019 MTV Video Music Awards, Swift won three awards including Video of the Year for "You Need to Calm Down", becoming the first female and second artist overall to win the category for a self-directed video.[179]

While promoting Lover in 2019, Swift became embroiled in a public dispute with the talent manager Scooter Braun after he purchased Big Machine Records, including the masters of her albums that the label had released.[180] Swift said she had been trying to buy the masters, but Big Machine would allow her to do so only if she exchanged one new album for each older one under a new contract, which she refused to sign.[180] In November 2020, Swift began re-recording her back catalog, which enabled her to own the new masters and the licensing of her songs for commercial use, substituting for the Big Machine-owned masters.[181]

In February 2020, Swift signed a global publishing deal with Universal Music Publishing Group after her 16-year contract with Sony/ATV expired.[182] Amidst the COVID-19 pandemic in 2020, Swift surprise-released two "sister albums" that she recorded and produced with Antonoff and Aaron Dessner: Folklore in July and Evermore in December.[183] Joe Alwyn co-wrote and co-produced a few songs under the pseudonym William Bowery.[184] Both albums incorporated a muted indie folk production;[185] each was supported by three singles catering to US pop, country, and triple A radio formats. The singles were "Cardigan", "Betty", and "Exile" from Folklore, and "Willow", "No Body, No Crime", and "Coney Island" from Evermore.[186] Folklore was the bestselling album of 2020 in the US[187] and, together with "Cardigan", made Swift the first artist to debut a US number-one album and a number-one song in the same week; she achieved the feat again with Evermore and "Willow".[188]

According to Billboard, Swift was the highest-paid musician in the US and highest-paid solo musician worldwide of 2020.[189] Folklore made Swift the first woman to win the Grammy Award for Album of the Year three times, winning the category at the 63rd Annual Grammy Awards (2021).[190] At the American Music Awards, Swift won three awards including Artist of the Year for a third record time (2020)[191] and Favorite Pop/Rock Female Artist and Favorite Pop/Rock Album (2021).[192] Swift played Bombalurina in the film adaptation of Andrew Lloyd Webber's musical Cats (2019), for which she co-wrote and recorded the Golden Globe-nominated original song "Beautiful Ghosts".[193][194] The documentary Miss Americana, which chronicled parts of Swift's life and career, premiered at the 2020 Sundance Film Festival.[195]
2021–2023: Re-recordings and Midnights

Swift's re-recordings of her first six studio albums began with Fearless (Taylor's Version) and Red (Taylor's Version), which were released in April and November 2021. Both peaked atop the Billboard 200, and the former was the first re-recorded album to do so.[196] Fearless (Taylor's Version) was preceded by "Love Story (Taylor's Version)", which made Swift the second artist after Dolly Parton to have both the original and re-recorded versions of a song reach number one on Hot Country Songs.[197] Red (Taylor's Version) was supported by "All Too Well (10 Minute Version)", which became the longest song in history to top the Hot 100.[198]
Swift performing in 2022

Swift's tenth studio album, Midnights, was released in October 2022.[199] The album incorporates a restrained electropop[200] and synth-pop sound[201] with elements of hip hop, R&B, and electronica.[199][202] In the US, Midnights was her fifth to open atop the Billboard 200 with first-week sales of over one million copies, and its tracks, led by the single "Anti-Hero", made Swift the first artist to monopolize the top 10 of the Hot 100.[203] Globally, the album broke the record for the most single-day streams and most single-week streams on Spotify and peaked atop the charts of at least 14 countries.[204] The album's two further singles, "Lavender Haze" and "Karma", both peaked at number two on the Billboard Hot 100.[205]

According to Billboard, Swift was the top-earning solo artist in the US and the top-earning musician worldwide of 2021.[206][207] She won six American Music Awards including Artist of the Year in 2022.[208] At the MTV Video Music Awards, Swift won her third and fourth trophies for Video of the Year with All Too Well: The Short Film, her self-directed short film that accompanies "All Too Well (10 Minute Version)", in 2022[209] and "Anti-Hero" in 2023.[210] During this period, Swift won three Grammy Awards: Best Music Video for All Too Well: The Short Film[211] and Best Pop Vocal Album and Album of the Year for Midnights. Swift became the first artist to win Album of the Year four times in Grammy history.[212]

Swift's next two re-recorded albums, Speak Now (Taylor's Version) and 1989 (Taylor's Version), were released in July and October 2023. The former made Swift the woman with the most number-one albums (12) in Billboard 200 history, surpassing Barbra Streisand,[213] and the latter was her sixth album to sell one million copies in a single week in the US, claiming her career's largest album sales week.[214] 1989 (Taylor's Version)'s single "Is It Over Now?" peaked at number one on the Billboard Hot 100.[215] Swift featured on Big Red Machine's "Renegade" and "Birch" (2021),[216] Haim's "Gasoline" (2021),[217] Ed Sheeran's "The Joker and the Queen" (2022),[218] and the National's "The Alcott" (2023).[219] For the soundtrack of the film Where the Crawdads Sing (2022), she wrote and recorded "Carolina", which received nominations for Best Original Song at the Golden Globes and Best Song Written for Visual Media at the Grammy Awards.[220] Besides music, Swift had a supporting role in the period comedy film Amsterdam (2022).[221]

In 2023, Swift was the most streamed artist on Spotify,[222] Apple Music,[223] and Amazon Music;[224] and the first act to place number one on the year-end Billboard top artists list in three different decades (2009, 2015 and 2023).[225] She had five out of the 10 best-selling albums of 2023 in the US, a record since Luminate began tracking US music sales in 1991.[226]
2023–present: The Eras Tour and The Tortured Poets Department
Swift singing into a mic
Swift on the Eras Tour in 2023

In March 2023, Swift embarked on the Eras Tour, a retrospective tour covering all her studio albums. Media outlets extensively covered the tour's global cultural and economic impact,[227] and its US leg broke the record for the most tickets sold in a day.[203] Ticketmaster received public and political criticisms for mishandling the tour's ticket sales.[228] The Eras Tour became the highest-grossing tour in history.[229][230] Its concert film, released to theaters worldwide on October 13, 2023, grossed over $250 million to become the highest-grossing concert film and was nominated for the Golden Globe Award for Cinematic and Box Office Achievement.[231][232] A photobook, The Eras Tour Book, was released on November 29, 2024, and sold over a million copies in its first week in the US alone.[233]

Swift's eleventh studio album, The Tortured Poets Department, was released on April 19, 2024.[234] Topping charts globally, the album broke a string of records: it marked the first album ever to amass 1 billion Spotify streams in a week; sold 2.6 million units in its first week in the US; made Swift the first artist to monopolize the top 14 of the Billboard Hot 100 and the top 10 of Australia's ARIA Singles Chart; and went on to spend 17 weeks atop the Billboard 200—Swift's longest-running number-one album on the chart. The lead single, "Fortnight", featuring Post Malone, became Swift's 12th number-one song on the Hot 100.[235][236][237]

After the pandemic, Swift's music releases, touring, and related activities culminated in an unprecedented height of popularity.[238] From 2023 onward, Swift found ubiquitous success, albeit more dominant than before, with the successes of the re-recordings, the Eras Tour, its concert film, Midnights, and The Tortured Poets Department, significantly increasing her net worth; Music Business Worldwide remarked this as a "new stratosphere of global career success" for Swift.[239][240] In 2023, she began dating the American football player Travis Kelce,[241] and in 2024, won Artist of the Year at the 2024 iHeartRadio Music Awards.[242] Swift was Spotify's most streamed artist once again in 2024.[243][244]

In January 2024, AI-generated fake pornographic images portraying Swift were posted to Twitter and spread to other social media platforms, spurring criticism and demands for legal reform.[245] In July, Swift and Kelce received death threats from a stalker in Gelsenkirchen, Germany,[246] and three children were killed in a stabbing attack at a Swift-themed workshop in Southport, England, leading to civil unrest in the UK.[247] In August, all three of the Eras Tour concerts in Vienna were canceled following the arrest of two suspects for allegedly planning an Islamic State-inspired terrorist attack in the city. The plan was uncovered by US intelligence and was thwarted by Austrian police forces.[248]
Artistry
Musical styles

Swift has ventured into diverse genres throughout her career, including pop,[b] country,[c] folk,[d] rock,[e] and alternative music.[f] Her early musical influences were 1990s female country musicians such as Shania Twain, Faith Hill, LeAnn Rimes, and the Dixie Chicks,[265] and Keith Urban's country crossover sounds incorporating rock, pop, and blues.[266] She self-identified as a country musician and achieved prominence as a country pop singer with her first four studio albums, from Taylor Swift to Red.[267] The albums feature country signifiers such as banjo, six-string banjo, mandolin, fiddle, and a slight vocal twang, in addition to pop melodies and rock influences;[268][269] Speak Now draws on rock styles such as pop rock, pop-punk, and 1980s arena rock.[95][270] Critics argued that country was an indicator of Swift's narrative songwriting rather than musical direction[271][272] and accused her of causing mainstream country music to stray from its roots.[273][274]

After the critical debate around Red's eclectic pop, rock, and electronic styles, Swift chose 1980s synth-pop as a defining sound of her recalibrated pop artistry and image, inspired by the music of Phil Collins, Annie Lennox, Peter Gabriel, and Madonna.[275][276] 1989, the first album in this direction, incorporates electronic arrangements consisting of dense synthesizers and drum machines.[277] Swift expanded on the electronic production on her next albums;[278] Reputation consists of hip hop, R&B, and EDM influences;[158][279] and Lover features eclectic elements from country, pop-punk, and folk rock.[280] When Swift embraced a pop identity, rockist critics regarded her move as an erosion of her country music songwriting authenticity,[281] but others regarded it as necessary for Swift's artistic evolution and defended her as a pioneer of poptimism.[282][283]

Her 2020 alternative albums Folklore and Evermore explore indie styles of rock and folk, and both incorporate a subtle, stripped-back soundscape with orchestration, synthesizers, and drum pads.[264][284][285] The latter experiments with varied song structures, asymmetric time signatures, and diverse instruments.[286][287] Critics deemed the indie styles a mature representation of Swift's artistry as a singer-songwriter.[285] Midnights and The Tortured Poets Department both incorporate a minimalist, subdued synth-pop sound, making use of analog synthesizers, sustained bass notes, and simple drum machine patterns.[288][289]

With continuous musical reinventions,[290] Swift was described by Time and the BBC as a musical "chameleon".[291][292] Jody Rosen commented that by originating her career in Nashville, Swift made a "bait-and-switch maneuver, planting roots in loamy country soil, then pivoting to pop".[293] Clash wrote that she has the versatility to "no longer [...] be defined by any genre or sound label".[294] According to Ann Powers, Swift's sound is genre-agnostic, blending and "reconfiguring" elements of country, R&B, indie pop, and hip hop.[295][296]
Voice
"Our Song" (2006)
Duration: 17 seconds.0:17
Swift sings with a Southern accent and a light country twang in her early songs such as "Our Song".[297][298]
"Cardigan" (2020)
Duration: 22 seconds.0:22
Swift uses her lower register in the ballad "Cardigan".[299]
"Lavender Haze" (2022)
Duration: 18 seconds.0:18
The R&B-leaning "Lavender Haze" features Swift's falsetto vocals in the refrain.[300]
Problems playing these files? See media help.

Swift possesses a mezzo-soprano vocal range[301] and a generally soft and breathy timbre that Rolling Stone deemed versatile.[302][303] Reviews of Swift's early country albums criticized her vocals as weak and strained compared to those of other female country singers.[304] Despite the criticism, most reviewers appreciated that Swift refrained from correcting her pitch with Auto-Tune and how she prioritized "intimacy over power and nuance" to communicate the messages of her songs with her audience[305]—a style that has been described as conversational.[306][307] According to Powers, Swift's defining vocal feature was her attention to detail to convey an exact feeling—"the line that slides down like a contented sigh or up like a raised eyebrow".[308]

On Red and 1989, Swift's vocals are electronically processed to accompany the pop production.[309][306] Her voice on Reputation and Midnights incorporates hip-hop and R&B influences that result in a near-rap delivery which emphasizes rhythm and cadence over melody.[310][295] She uses her lower register vocals extensively in "Cardigan"[311] and both her lower and upper registers in Evermore; the musicologist Alyssa Barca described her timbre in the upper register as "breathy and bright" and the lower register as "full and dark".[287]

Reviews in The New York Times, Variety and The Atlantic were more appreciative of Swift's vocals in her later albums.[269][312][313][314] She ranked 102nd on Rolling Stone's 2023 list of the 200 Greatest Singers of All Time: "A decade ago, including her on this list would have been a controversial move, but recent releases like Folklore, Evermore, and Midnights officially settled the argument."[303] Laura Snapes of The Guardian said that Swift's "vocal trademarks" include a "yo-yoing vocal yelp" and "climactic, processed cri de coeur".[315] Amanda Petrusich praised how the clarity and tone of Swift's live vocals accentuate her lyrics.[316]
Songwriting

Swift's fascination with songwriting began in her childhood. She credited her mother with igniting confidence and early songwriting interests by helping her prepare for class presentations.[317][318] She enjoyed Disney film soundtracks and would make up lyrics once she had run out of words singing them.[319] Her lyrical influences include female country songwriters such as Patsy Cline, Loretta Lynn, Tammy Wynette, and Dolly Parton;[19][104] 1990s songwriters such as Melissa Etheridge, Sarah McLachlan, and Alanis Morissette;[320] Joni Mitchell;[321] and Fall Out Boy.[322] She listed Paul McCartney, Bruce Springsteen, Emmylou Harris, and Kris Kristofferson as career role models, citing their both evolving and consistent songwriting outputs.[28][323] Her literary influences include the authors William Shakespeare, Nathaniel Hawthorne, F. Scott Fitzgerald,[324] and the poets William Wordsworth, Robert Frost, and Emily Dickinson;[325] the last of whom was a distant cousin of Swift.[326]

In The New Yorker in 2011, Swift said she identifies as a songwriter first: "I write songs, and my voice is just a way to get those lyrics across".[28] Her personal experiences were a common inspiration for her early songs, which helped her navigate life.[327][29] Her "diaristic" technique began with identifying an emotion, followed by a corresponding melody.[328][329] On her first three studio albums, love, heartbreak, and insecurities, from an adolescent perspective, were dominant themes.[95][330] She delved into the tumult of toxic relationships on Red,[331] and embraced nostalgia and post-romance positivity on 1989.[275] Reputation was inspired by the downsides of Swift's fame,[332] and Lover detailed her realization of the "full spectrum of love".[333] Other themes in Swift's music include family dynamics, friendship,[334][335] alienation, self-awareness, and tackling vitriol, especially sexism.[318][336] She often references or draws inspiration from historical events and figures.[337] Neil McCormick, the chief music critic of The Daily Telegraph, opined that Swift is a "significant vehicle for expressing the inner lives and day-to-day concerns of women of her generation [and younger]".[338]

Swift's confessional lyrics received positive reviews from critics,[339][28][340] who highlighted their vivid details and emotional engagement, which they found uncommon in pop music,[341][342][343] although some perceived her as a fragile, juvenile artist, a label she has consistently challenged.[339] Critics also praised her melodic compositions; Rolling Stone described Swift as "a songwriting savant with an intuitive gift for verse-chorus-bridge architecture".[344][306] NPR dubbed Swift "a master of the vernacular in her lyrics",[158] remarking that her songs offer emotional engagement because "the wit and clarity of her arrangements turn them from standard fare to heartfelt disclosures".[306] Despite the positive reception, The New Yorker stated she was generally portrayed "more as a skilled technician than as a Dylanesque visionary".[28] Tabloid media often speculated and linked the subjects of her songs with her ex-lovers, a practice reviewers and Swift herself criticized as sexist.[345][346][347] Aside from clues in album liner notes, Swift avoided talking about the subjects of her songs.[348]

On her 2020 albums Folklore and Evermore, Swift was inspired by escapism and romanticism to explore fictional narratives.[349] She imposed emotions onto imagined characters and story arcs, which liberated her from tabloid attention and suggested new paths for her artistry.[328] Swift explained that she welcomed the new songwriting direction after she stopped worrying about commercial success.[349] According to Spin, she explored complex emotions with "precision and devastation" on Evermore.[350] Consequence stated her 2020 albums convinced skeptics of her songwriting prowess, noting her transformation from "teenage wunderkind to a confident and careful adult".[351]

Swift divides her writing into three types: "quill lyrics", songs rooted in antiquated poeticism; "fountain pen lyrics", based on modern and vivid storylines; and "glitter gel pen lyrics", which are lively and frivolous.[352] Fans noticed that the fifth track of every Swift album was the most emotionally vulnerable of the album.[353] Awarding her with the Songwriter Icon Award in 2021, the National Music Publishers' Association remarked that "no one is more influential when it comes to writing music today".[354] The Week deemed her the foremost female songwriter of modern times,[355] and the Nashville Songwriters Association International named her Songwriter-Artist of the Decade in 2022.[203] Swift has also published two original poems: "Why She Disappeared" and "If You're Anything Like Me".[356]

Critics have analyzed the distinctive qualities and thematic depth in Swift's songwriting. Critic Kitty Empire opined in 2024 that Swift is "a profoundly old-fashioned artist", whose songs "tell a story, in succinct, emotive ways that often scan meticulously" unlike most pop music of the time; Empire attributed it to Swift's country beginnings.[357] Swift's bridges are often noted as one of the best aspects of her songs,[358][351] earning her the title "Queen of Bridges" from Time.[359] Mojo dubbed her "a sharp narrator with a gift for the extended metaphor".[360] Academics have variably described her as a poet laureate,[361] philosopher,[362] and bard.[293]
Performances
Further information: List of Taylor Swift live performances
Swift singing while playing a piano
Swift performing on the Reputation Stadium Tour in Seattle in May 2018

Swift commands large audiences on stage,[363][364][365] captivating them through emotional storytelling and vocal delivery rather than relying on elaborate dance choreography.[366] According to V magazine's Greg Krelenstein, she possesses "a rare gift of turning a stadium spectacle into an intimate setting", irrespective of whether she is "plucking a guitar or leading an army of dancers".[367] In a 2008 review of Swift's early performances, Sasha Frere-Jones of The New Yorker called Swift a "preternaturally skilled" entertainer with a vibrant stage presence, adding "she returned the crowd's energy with the professionalism she has shown since the age of fourteen."[272] In 2023, Adrian Horton of The Guardian noted her "seemingly endless stamina" on the Eras Tour,[368] and i critic Ilana Kaplan called her showmanship "unparalleled".[369]

Swift's concert productions have been characterized by elaborate Broadway theatricality and high technology,[370] and her performances frequently incorporate a live band, with whom she has played and toured since 2007.[371] Swift also often accompanies herself with musical instruments such as electric guitar;[372] acoustic guitar; piano;[373] and sometimes twelve-string guitar,[374][375] six-string banjo,[376] or ukulele.[377] Interacting frequently with the audience, her solo acoustic performances are considered intimate and emotionally resonant, complementing her story-based lyrics and fan connection.[316][378] Lydia Burgham of The Spinoff opined that this intimacy remains "integral to her singer-songwriter origins".[379][373] Chris Willman of Variety called Swift "pop's most approachable superstar",[380] and the 21st century's most popular performer.[381]
Video and film
Further information: Taylor Swift videography

Swift emphasizes visuals as a key creative component of her music-making process.[382] She has collaborated with different directors to produce her music videos, and over time, she has become more involved with writing and directing. She developed the concept and treatment for "Mean" in 2011[383] and co-directed the music video for "Mine" with Roman White the year before.[384] In an interview, White said that Swift "was keenly involved in writing the treatment, casting and wardrobe. And she stayed for both the 15-hour shooting days, even when she wasn't in the scenes."[385]

From 2014 to 2018, Swift collaborated with director Joseph Kahn on eight music videos—four each from her albums 1989 and Reputation. Kahn has praised Swift's involvement.[386] She worked with American Express for the "Blank Space" music video (which Kahn directed) and served as an executive producer for the interactive app AMEX Unstaged: Taylor Swift Experience, for which she won a Primetime Emmy Award for Outstanding Interactive Program in 2015.[387] Swift produced the music video for "Bad Blood" and won a Grammy Award for Best Music Video in 2016.[388]

Her production company, Taylor Swift Productions, is credited with producing all of her visual media, starting with the 2018 concert documentary Reputation Stadium Tour.[389] She continued to co-direct music videos for the Lover singles "Me!" with Dave Meyers, and "You Need to Calm Down" (also serving as a co-executive producer) and "Lover" with Drew Kirsch,[390] but first ventured into sole direction with the video for "The Man" (which won her the MTV Video Music Award for Best Direction).[391] After Folklore: The Long Pond Studio Sessions, Swift debuted as a filmmaker with All Too Well: The Short Film,[203] which made her the first artist to win the Grammy Award for Best Music Video as a sole director.[392] Swift has cited Chloé Zhao, Greta Gerwig, Nora Ephron, Guillermo del Toro, John Cassavetes, and Noah Baumbach as filmmaking influences.[382]
Achievements
Further information: List of awards and nominations received by Taylor Swift
In 2009, Swift became the first country singer to win an MTV Video Music Award.

Swift's discography is a "critically hailed songbook", as per Time's Sam Lansky.[393] She has won 14 Grammy Awards (including four for Album of the Year—the most won by an artist),[394] an Emmy Award,[395] 40 American Music Awards (the most won by an artist),[396] 49 Billboard Music Awards (the most won by an artist),[397] 118 Guinness World Records,[398] 30 MTV Video Music Awards (including five Video of the Year wins—the most by an act),[399] 12 Country Music Association Awards (including the Pinnacle Award),[400] eight Academy of Country Music Awards,[401] and two Brit Awards.[147] As a songwriter, she has been honored by the Nashville Songwriters Association,[59][402] the Songwriters Hall of Fame, and the National Music Publishers' Association and was the youngest person on Rolling Stone's list of the 100 Greatest Songwriters of All Time in 2015.[403][404] At the 64th BMI Awards in 2016, Swift was the first woman to be honored with an award named after its recipient.[405]

From available data, Swift has amassed over 50 million album sales and 150 million single sales as of 2019,[406][407][408] and 114 million units globally, including 78 billion streams as of 2021.[409][410] The International Federation of the Phonographic Industry ranked her as the Global Recording Artist of the Year for a record five times (2014, 2019, 2022, 2023, and 2024).[411] Swift has the most number-one albums in the UK and Ireland for a female artist this century,[412][413] earned the highest income for an artist on Chinese digital music platforms (CN¥ 159,000,000 as of 2021),[414] and is the first artist to occupy the entire top five[note 2] of the Australian albums chart[417][418] and the top ten of the country's singles chart.[419] Swift remains the world's highest-grossing touring act ever, with cumulative ticket sales at $3.12 billion as of December 2024, per Pollstar.[420] The Eras Tour is the highest-grossing tour of all time and the first to surpass $1 billion in revenue.[421][229] Beginning with Fearless, each of her studio albums have opened with over one million global units.[422][423] Swift is the most-streamed act on Spotify,[424] and the most-streamed female artist on Apple Music.[425] On Spotify, she is the only female act to amass 100 billion streams,[426] the only artist to have received more than 250 million and 350 million streams in one day (260 million on October 27, 2023, and 380 million on April 19, 2024),[427] and was the first female act to reach 100 million monthly listeners.[428][198] The most entries and the most simultaneous entries (175 and 34 songs), and most number-ones (5) for a soloist on the Billboard Global 200, are among her feats.[429][430] Swift is the first and only artist to occupy the top nine spots on the Global 200.[429] She has the most entries (154), top-ten songs (20), and number-ones (3)[note 3] among solo acts on the Global 200 Excl. US.[429]

In the US, Swift has sold over 37.3 million albums as of 2019,[408] when Billboard placed her eighth on its Greatest of All Time Artists Chart.[431] Twelve of her songs have topped the Billboard Hot 100.[432] She is the longest-reigning and the first act to spend at least 100 weeks atop the Billboard Artist 100 (124 weeks);[433][434] the soloist with the most cumulative weeks atop and in the top ten of the Billboard 200 (84 and 425);[435][436] the woman with the most Billboard 200 number-ones (14),[437] Hot 100 entries (total and single-week: 264 and 32),[438] number-one debuts (7),[note 4] top-ten songs (59),[432] top-five songs (36),[198] Streaming Songs chart-toppers (9),[432] and weeks atop the Top Country Albums chart (101);[440] and the act with the most number-one songs on Pop Airplay (13)[441] and Digital Songs (29).[432] Swift is the first woman to simultaneously chart five albums in the top 10 and eleven albums on the entire Billboard 200;[442][443] and the first act to occupy the top four spots and chart seven albums[note 5] in the top 10 on the Top Album Sales chart.[445][446] She is the third highest-certified female digital singles artist (and seventh overall) in the US, with 137.5 million total units certified by the Recording Industry Association of America (RIAA),[447] and the first woman to have both an album (Fearless) and a song ("Shake It Off") certified Diamond.[448] Swift is the only artist in Luminate history to have seven albums sell over a million copies in a week.[449]

Swift has appeared in various power listings. Time included her on its annual list of the 100 most influential people in 2010, 2015, and 2019.[450] She was one of the "Silence Breakers" that the magazine spotlighted as Person of the Year in 2017 for speaking up about sexual assault,[451] and she received the honor again in 2023 for her cultural domination that year.[393] Rolling Stone ranked Swift at 102 on their list of 200 Best Singers of All Time in 2023.[452] Time described Swift as the first Person of the Year to be recognized for "achievement in the arts", as well as the first woman to be recognized and appear on a Person of the Year cover more than once.[453][393] She received an honorary Doctor of Fine Arts degree from New York University and served as its commencement speaker on May 18, 2022.[203]
Cultural status
Main articles: Cultural impact of Taylor Swift and Public image of Taylor Swift
Swift at the 2010 Time 100 Gala

Swift has been credited with making a profound impact on the music industry, popular culture, and the economy.[454][455] She dominates cultural conversations,[456][457] leading some publications to describe her as a cultural "vitality" or zeitgeist.[458][459][362] Her music, life, and public image are points of attention in global celebrity culture.[290] Initially a teen idol,[460] she has been referred to as a pop icon;[278][461] publications describe her enormous popularity and longevity as unwitnessed since the 20th century.[462][463] In 2013, New York magazine's Jody Rosen dubbed Swift the "world's biggest pop star" and opined that the trajectory of her stardom has defied established patterns. Rosen added that Swift "falls between genres, eras, demographics, paradigms, trends", leaving her contemporaries "vying for second place".[293] Critics regard Swift as a rare yet successful combination of the pop star and singer-songwriter archetypes.[464]

Swift's fans are known as Swifties.[228] Billboard noted that only a few artists have achieved her level of chart success, critical acclaim, and fan support.[465] Swift's million-selling albums are considered an anomaly in the streaming-dominated industry following the end of the album era in the 2010s.[466][467] Economist Alan Krueger described Swift as an "economic genius".[468]

Although labeled by the media in her early career as "America's Sweetheart" for her girl next door persona,[469][470] Swift has been called by detractors "calculated" and manipulative of her image, a narrative bolstered by her 2016 dispute with West.[471][472] Critics have also noted that her personal life and career have been subject to intense misogyny and "slut-shaming",[473][474] as well as rampant media scrutiny and tabloid speculation.[475] Swift has also been a victim of numerous house break-ins and stalkers, some of whom were armed.[476][477]

Swift's private jet use has drawn scrutiny for its carbon emissions.[478][479] In 2023, a spokesperson for Swift stated that she had purchased more than double the required carbon credits to offset all tour travel and personal flights.[480][481] In December 2023, Swift's lawyers sent a cease and desist letter to American programmer Jack Sweeney over tracking her private jet, alleging stalking and safety risks; media outlets have reported that the information posted by Sweeney is a synthesis of publicly available data.[482][483] In February 2024, it was reported that Swift had sold one of her two private jets.[484] """



text2="""A Programmer’s Introduction to Unicode March 3, 2017 · Coding · 22 Comments  Ｕｎｉｃｏｄｅ! 🅤🅝🅘🅒🅞🅓🅔‽ 🇺\u200c🇳\u200c🇮\u200c🇨\u200c🇴\u200c🇩\u200c🇪! 😄 The very name strikes fear and awe into the hearts of programmers worldwide. We all know we ought to “support Unicode” in our software (whatever that means—like using wchar_t for all the strings, right?). But Unicode can be abstruse, and diving into the thousand-page Unicode Standard plus its dozens of supplementary annexes, reports, and notes can be more than a little intimidating. I don’t blame programmers for still finding the whole thing mysterious, even 30 years after Unicode’s inception.  A few months ago, I got interested in Unicode and decided to spend some time learning more about it in detail. In this article, I’ll give an introduction to it from a programmer’s point of view.  I’m going to focus on the character set and what’s involved in working with strings and files of Unicode text. However, in this article I’m not going to talk about fonts, text layout/shaping/rendering, or localization in detail—those are separate issues, beyond my scope (and knowledge) here.  Diversity and Inherent Complexity The Unicode Codespace Codespace Allocation Scripts Usage Frequency Encodings UTF-8 UTF-16 Combining Marks Canonical Equivalence Normalization Forms Grapheme Clusters And More… Diversity and Inherent Complexity As soon as you start to study Unicode, it becomes clear that it represents a large jump in complexity over character sets like ASCII that you may be more familiar with. It’s not just that Unicode contains a much larger number of characters, although that’s part of it. Unicode also has a great deal of internal structure, features, and special cases, making it much more than what one might expect a mere “character set” to be. We’ll see some of that later in this article.  When confronting all this complexity, especially as an engineer, it’s hard not to find oneself asking, “Why do we need all this? Is this really necessary? Couldn’t it be simplified?”  However, Unicode aims to faithfully represent the entire world’s writing systems. The Unicode Consortium’s stated goal is “enabling people around the world to use computers in any language”. And as you might imagine, the diversity of written languages is immense! To date, Unicode supports 135 different scripts, covering some 1100 languages, and there’s still a long tail of over 100 unsupported scripts, both modern and historical, which people are still working to add.  Given this enormous diversity, it’s inevitable that representing it is a complicated project. Unicode embraces that diversity, and accepts the complexity inherent in its mission to include all human writing systems. It doesn’t make a lot of trade-offs in the name of simplification, and it makes exceptions to its own rules where necessary to further its mission.  Moreover, Unicode is committed not just to supporting texts in any single language, but also to letting multiple languages coexist within one text—which introduces even more complexity.  Most programming languages have libraries available to handle the gory low-level details of text manipulation, but as a programmer, you’ll still need to know about certain Unicode features in order to know when and how to apply them. It may take some time to wrap your head around it all, but don’t be discouraged—think about the billions of people for whom your software will be more accessible through supporting text in their language. Embrace the complexity!  The Unicode Codespace Let’s start with some general orientation. The basic elements of Unicode—its “characters”, although that term isn’t quite right—are called code points. Code points are identified by number, customarily written in hexadecimal with the prefix “U+”, such as U+0041 “A” latin capital letter a or U+03B8 “θ” greek small letter theta. Each code point also has a short name, and quite a few other properties, specified in the Unicode Character Database.  The set of all possible code points is called the codespace. The Unicode codespace consists of 1,114,112 code points. However, only 128,237 of them—about 12% of the codespace—are actually assigned, to date. There’s plenty of room for growth! Unicode also reserves an additional 137,468 code points as “private use” areas, which have no standardized meaning and are available for individual applications to define for their own purposes.  Codespace Allocation To get a feel for how the codespace is laid out, it’s helpful to visualize it. Below is a map of the entire codespace, with one pixel per code point. It’s arranged in tiles for visual coherence; each small square is 16×16 = 256 code points, and each large square is a “plane” of 65,536 code points. There are 17 planes altogether.  Map of the Unicode codespace (click to zoom)  White represents unassigned space. Blue is assigned code points, green is private-use areas, and the small red area is surrogates (more about those later). As you can see, the assigned code points are distributed somewhat sparsely, but concentrated in the first three planes.  Plane 0 is also known as the “Basic Multilingual Plane”, or BMP. The BMP contains essentially all the characters needed for modern text in any script, including Latin, Cyrillic, Greek, Han (Chinese), Japanese, Korean, Arabic, Hebrew, Devanagari (Indian), and many more.  (In the past, the codespace was just the BMP and no more—Unicode was originally conceived as a straightforward 16-bit encoding, with only 65,536 code points. It was expanded to its current size in 1996. However, the vast majority of code points in modern text belong to the BMP.)  Plane 1 contains historical scripts, such as Sumerian cuneiform and Egyptian hieroglyphs, as well as emoji and various other symbols. Plane 2 contains a large block of less-common and historical Han characters. The remaining planes are empty, except for a small number of rarely-used formatting characters in Plane 14; planes 15–16 are reserved entirely for private use.  Scripts Let’s zoom in on the first three planes, since that’s where the action is:  Map of scripts in Unicode planes 0–2 (click to zoom)  This map color-codes the 135 different scripts in Unicode. You can see how Han () and Korean () take up most of the range of the BMP (the left large square). By contrast, all of the European, Middle Eastern, and South Asian scripts fit into the first row of the BMP in this diagram.  Many areas of the codespace are adapted or copied from earlier encodings. For example, the first 128 code points of Unicode are just a copy of ASCII. This has clear benefits for compatibility—it’s easy to losslessly convert texts from smaller encodings into Unicode (and the other direction too, as long as no characters outside the smaller encoding are used).  Usage Frequency One more interesting way to visualize the codespace is to look at the distribution of usage—in other words, how often each code point is actually used in real-world texts. Below is a heat map of planes 0–2 based on a large sample of text from Wikipedia and Twitter (all languages). Frequency increases from black (never seen) through red and yellow to white.  Heat map of code point usage frequency in Unicode planes 0–2 (click to zoom)  You can see that the vast majority of this text sample lies in the BMP, with only scattered usage of code points from planes 1–2. The biggest exception is emoji, which show up here as the several bright squares in the bottom row of plane 1.  Encodings We’ve seen that Unicode code points are abstractly identified by their index in the codespace, ranging from U+0000 to U+10FFFF. But how do code points get represented as bytes, in memory or in a file?  The most convenient, computer-friendliest (and programmer-friendliest) thing to do would be to just store the code point index as a 32-bit integer. This works, but it consumes 4 bytes per code point, which is sort of a lot. Using 32-bit ints for Unicode will cost you a bunch of extra storage, memory, and performance in bandwidth-bound scenarios, if you work with a lot of text.  Consequently, there are several more-compact encodings for Unicode. The 32-bit integer encoding is officially called UTF-32 (UTF = “Unicode Transformation Format”), but it’s rarely used for storage. At most, it comes up sometimes as a temporary internal representation, for examining or operating on the code points in a string.  Much more commonly, you’ll see Unicode text encoded as either UTF-8 or UTF-16. These are both variable-length encodings, made up of 8-bit or 16-bit units, respectively. In these schemes, code points with smaller index values take up fewer bytes, which saves a lot of memory for typical texts. The trade-off is that processing UTF-8/16 texts is more programmatically involved, and likely slower.  UTF-8 In UTF-8, each code point is stored using 1 to 4 bytes, based on its index value.  UTF-8 uses a system of binary prefixes, in which the high bits of each byte mark whether it’s a single byte, the beginning of a multi-byte sequence, or a continuation byte; the remaining bits, concatenated, give the code point index. This table shows how it works:  UTF-8 (binary)\tCode point (binary)\tRange 0xxxxxxx\txxxxxxx\tU+0000–U+007F 110xxxxx 10yyyyyy\txxxxxyyyyyy\tU+0080–U+07FF 1110xxxx 10yyyyyy 10zzzzzz\txxxxyyyyyyzzzzzz\tU+0800–U+FFFF 11110xxx 10yyyyyy 10zzzzzz 10wwwwww\txxxyyyyyyzzzzzzwwwwww\tU+10000–U+10FFFF A handy property of UTF-8 is that code points below 128 (ASCII characters) are encoded as single bytes, and all non-ASCII code points are encoded using sequences of bytes 128–255. This has a couple of nice consequences. First, any strings or files out there that are already in ASCII can also be interpreted as UTF-8 without any conversion. Second, lots of widely-used string programming idioms—such as null termination, or delimiters (newlines, tabs, commas, slashes, etc.)—will just work on UTF-8 strings. ASCII bytes never occur inside the encoding of non-ASCII code points, so searching byte-wise for a null terminator or a delimiter will do the right thing.  Thanks to this convenience, it’s relatively simple to extend legacy ASCII programs and APIs to handle UTF-8 strings. UTF-8 is very widely used in the Unix/Linux and Web worlds, and many programmers argue UTF-8 should be the default encoding everywhere.  However, UTF-8 isn’t a drop-in replacement for ASCII strings in all respects. For instance, code that iterates over the “characters” in a string will need to decode UTF-8 and iterate over code points (or maybe grapheme clusters—more about those later), not bytes. When you measure the “length” of a string, you’ll need to think about whether you want the length in bytes, the length in code points, the width of the text when rendered, or something else.  UTF-16 The other encoding that you’re likely to encounter is UTF-16. It uses 16-bit words, with each code point stored as either 1 or 2 words.  Like UTF-8, we can express the UTF-16 encoding rules in the form of binary prefixes:  UTF-16 (binary)\tCode point (binary)\tRange xxxxxxxxxxxxxxxx\txxxxxxxxxxxxxxxx\tU+0000–U+FFFF 110110xxxxxxxxxx 110111yyyyyyyyyy\txxxxxxxxxxyyyyyyyyyy + 0x10000\tU+10000–U+10FFFF A more common way that people talk about UTF-16 encoding, though, is in terms of code points called “surrogates”. All the code points in the range U+D800–U+DFFF—or in other words, the code points that match the binary prefixes 110110 and 110111 in the table above—are reserved specifically for UTF-16 encoding, and don’t represent any valid characters on their own. They’re only meant to occur in the 2-word encoding pattern above, which is called a “surrogate pair”. Surrogate code points are illegal in any other context! They’re not allowed in UTF-8 or UTF-32 at all.  Historically, UTF-16 is a descendant of the original, pre-1996 versions of Unicode, in which there were only 65,536 code points. The original intention was that there would be no different “encodings”; Unicode was supposed to be a straightforward 16-bit character set. Later, the codespace was expanded to make room for a long tail of less-common (but still important) Han characters, which the Unicode designers didn’t originally plan for. Surrogates were then introduced, as—to put it bluntly—a kludge, allowing 16-bit encodings to access the new code points.  Today, Javascript uses UTF-16 as its standard string representation: if you ask for the length of a string, or iterate over it, etc., the result will be in UTF-16 words, with any code points outside the BMP expressed as surrogate pairs. UTF-16 is also used by the Microsoft Win32 APIs; though Win32 supports either 8-bit or 16-bit strings, the 8-bit version unaccountably still doesn’t support UTF-8—only legacy code-page encodings, like ANSI. This leaves UTF-16 as the only way to get proper Unicode support in Windows. (Update: in Win10 version 1903, they finally added UTF-8 support to the 8-bit APIs! 😊)  By the way, UTF-16’s words can be stored either little-endian or big-endian. Unicode has no opinion on that issue, though it does encourage the convention of putting U+FEFF zero width no-break space at the top of a UTF-16 file as a byte-order mark, to disambiguate the endianness. (If the file doesn’t match the system’s endianness, the BOM will be decoded as U+FFFE, which isn’t a valid code point.)  Combining Marks In the story so far, we’ve been focusing on code points. But in Unicode, a “character” can be more complicated than just an individual code point!  Unicode includes a system for dynamically composing characters, by combining multiple code points together. This is used in various ways to gain flexibility without causing a huge combinatorial explosion in the number of code points.  In European languages, for example, this shows up in the application of diacritics to letters. Unicode supports a wide range of diacritics, including acute and grave accents, umlauts, cedillas, and many more. All these diacritics can be applied to any letter of any alphabet—and in fact, multiple diacritics can be used on a single letter.  If Unicode tried to assign a distinct code point to every possible combination of letter and diacritics, things would rapidly get out of hand. Instead, the dynamic composition system enables you to construct the character you want, by starting with a base code point (the letter) and appending additional code points, called “combining marks”, to specify the diacritics. When a text renderer sees a sequence like this in a string, it automatically stacks the diacritics over or under the base letter to create a composed character.  For example, the accented character “Á” can be expressed as a string of two code points: U+0041 “A” latin capital letter a plus U+0301 “◌́” combining acute accent. This string automatically gets rendered as a single character: “Á”.  Now, Unicode does also include many “precomposed” code points, each representing a letter with some combination of diacritics already applied, such as U+00C1 “Á” latin capital letter a with acute or U+1EC7 “ệ” latin small letter e with circumflex and dot below. I suspect these are mostly inherited from older encodings that were assimilated into Unicode, and kept around for compatibility. In practice, there are precomposed code points for most of the common letter-with-diacritic combinations in European-script languages, so they don’t use dynamic composition that much in typical text.  Still, the system of combining marks does allow for an arbitrary number of diacritics to be stacked on any base character. The reductio-ad-absurdum of this is Zalgo text, which works by ͖͟ͅr͞aṋ̫̠̖͈̗d͖̻̹óm̪͙͕̗̝ļ͇̰͓̳̫ý͓̥̟͍ ̕s̫t̫̱͕̗̰̼̘͜a̼̩͖͇̠͈̣͝c̙͍k̖̱̹͍͘i̢n̨̺̝͇͇̟͙ģ̫̮͎̻̟ͅ ̕n̼̺͈͞u̮͙m̺̭̟̗͞e̞͓̰̤͓̫r̵o̖ṷs҉̪͍̭̬̝̤ ̮͉̝̞̗̟͠d̴̟̜̱͕͚i͇̫̼̯̭̜͡ḁ͙̻̼c̲̲̹r̨̠̹̣̰̦i̱t̤̻̤͍͙̘̕i̵̜̭̤̱͎c̵s ͘o̱̲͈̙͖͇̲͢n͘ ̜͈e̬̲̠̩ac͕̺̠͉h̷̪ ̺̣͖̱ḻ̫̬̝̹ḙ̙̺͙̭͓̲t̞̞͇̲͉͍t̷͔̪͉̲̻̠͙e̦̻͈͉͇r͇̭̭̬͖,̖́ ̜͙͓̣̭s̘̘͈o̱̰̤̲ͅ ̛̬̜̙t̼̦͕̱̹͕̥h̳̲͈͝ͅa̦t̻̲ ̻̟̭̦̖t̛̰̩h̠͕̳̝̫͕e͈̤̘͖̞͘y҉̝͙ ̷͉͔̰̠o̞̰v͈͈̳̘͜er̶f̰͈͔ḻ͕̘̫̺̲o̲̭͙͠ͅw̱̳̺ ͜t̸h͇̭͕̳͍e̖̯̟̠ ͍̞̜͔̩̪͜ļ͎̪̲͚i̝̲̹̙̩̹n̨̦̩̖ḙ̼̲̼͢ͅ ̬͝s̼͚̘̞͝p͙̘̻a̙c҉͉̜̤͈̯̖i̥͡n̦̠̱͟g̸̗̻̦̭̮̟ͅ ̳̪̠͖̳̯̕a̫͜n͝d͡ ̣̦̙ͅc̪̗r̴͙̮̦̹̳e͇͚̞͔̹̫͟a̙̺̙ț͔͎̘̹ͅe̥̩͍ a͖̪̜̮͙̹n̢͉̝ ͇͉͓̦̼́a̳͖̪̤̱p̖͔͔̟͇͎͠p̱͍̺ę̲͎͈̰̲̤̫a̯͜r̨̮̫̣̘a̩̯͖n̹̦̰͎̣̞̞c̨̦̱͔͎͍͖e̬͓͘ ̤̰̩͙̤̬͙o̵̼̻̬̻͇̮̪f̴ ̡̙̭͓͖̪̤“̸͙̠̼c̳̗͜o͏̼͙͔̮r̞̫̺̞̥̬ru̺̻̯͉̭̻̯p̰̥͓̣̫̙̤͢t̳͍̳̖ͅi̶͈̝͙̼̙̹o̡͔n̙̺̹̖̩͝ͅ”̨̗͖͚̩.̯͓  A few other places where dynamic character composition shows up in Unicode:  Vowel-pointing notation in Arabic and Hebrew. In these languages, words are normally spelled with some of their vowels left out. They then have diacritic notation to indicate the vowels (used in dictionaries, language-teaching materials, children’s books, and such). These diacritics are expressed with combining marks.  A Hebrew example, with niqqud:\tאֶת דַלְתִּי הֵזִיז הֵנִיעַ, קֶטֶב לִשְׁכַּתִּי יָשׁוֹד Normal writing (no niqqud):\tאת דלתי הזיז הניע, קטב לשכתי ישוד Devanagari, the script used to write Hindi, Sanskrit, and many other South Asian languages, expresses certain vowels as combining marks attached to consonant letters. For example, “ह” + “\u200bि” = “हि” (“h” + “i” = “hi”). Korean characters stand for syllables, but they are composed of letters called jamo that stand for the vowels and consonants in the syllable. While there are code points for precomposed Korean syllables, it’s also possible to dynamically compose them by concatenating their jamo. For example, “ᄒ” + “ᅡ” + “ᆫ” = “한” (“h” + “a” + “n” = “han”). Canonical Equivalence In Unicode, precomposed characters exist alongside the dynamic composition system. A consequence of this is that there are multiple ways to express “the same” string—different sequences of code points that result in the same user-perceived characters. For example, as we saw earlier, we can express the character “Á” either as the single code point U+00C1, or as the string of two code points U+0041 U+0301.  Another source of ambiguity is the ordering of multiple diacritics in a single character. Diacritic order matters visually when two diacritics apply to the same side of the base character, e.g. both above: “ǡ” (dot, then macron) is different from “ā̇” (macron, then dot). However, when diacritics apply to different sides of the character, e.g. one above and one below, then the order doesn’t affect rendering. Moreover, a character with multiple diacritics might have one of the diacritics precomposed and others expressed as combining marks.  For example, the Vietnamese letter “ệ” can be expressed in five different ways:  Fully precomposed: U+1EC7 “ệ” Partially precomposed: U+1EB9 “ẹ” + U+0302 “◌̂” Partially precomposed: U+00EA “ê” + U+0323 “◌̣” Fully decomposed: U+0065 “e” + U+0323 “◌̣” + U+0302 “◌̂” Fully decomposed: U+0065 “e” + U+0302 “◌̂” + U+0323 “◌̣” Unicode refers to set of strings like this as “canonically equivalent”. Canonically equivalent strings are supposed to be treated as identical for purposes of searching, sorting, rendering, text selection, and so on. This has implications for how you implement operations on text. For example, if an app has a “find in file” operation and the user searches for “ệ”, it should, by default, find occurrences of any of the five versions of “ệ” above!  Normalization Forms To address the problem of “how to handle canonically equivalent strings”, Unicode defines several normalization forms: ways of converting strings into a canonical form so that they can be compared code-point-by-code-point (or byte-by-byte).  The “NFD” normalization form fully decomposes every character down to its component base and combining marks, taking apart any precomposed code points in the string. It also sorts the combining marks in each character according to their rendered position, so e.g. diacritics that go below the character come before the ones that go above the character. (It doesn’t reorder diacritics in the same rendered position, since their order matters visually, as previously mentioned.)  The “NFC” form, conversely, puts things back together into precomposed code points as much as possible. If an unusual combination of diacritics is called for, there may not be any precomposed code point for it, in which case NFC still precomposes what it can and leaves any remaining combining marks in place (again ordered by rendered position, as in NFD).  There are also forms called NFKD and NFKC. The “K” here refers to compatibility decompositions, which cover characters that are “similar” in some sense but not visually identical. However, r]=i
        i+=1
        num_merges-=1I’m not going to cover that here.  Grapheme Clusters As we’ve seen, Unicode contains various cases where a thing that a user thinks of as a single “character” might actually be made up of multiple code points under the hood. Unicode formalizes this using the notion of a grapheme cluster: a string of one or more code points that constitute a single “user-perceived character”.  UAX #29 defines the rules for what, precisely, qualifies as a grapheme cluster. It’s approximately “a base code point followed by any number of combining marks”, but the actual definition is a bit more complicated; it accounts for things like Korean jamo, and emoji ZWJ sequences.  The main thing grapheme clusters are used for is text editing: they’re often the most sensible unit for cursor placement and text selection boundaries. Using grapheme clusters for these purposes ensures that you can’t accidentally chop off some diacritics when you copy-and-paste text, that left/right arrow keys always move the cursor by one visible character, and so on.  Another place where grapheme clusters are useful is in enforcing a string length limit—say, on a database field. While the true, underlying limit might be something like the byte length of the string in UTF-8, you wouldn’t want to enforce that by just truncating bytes. At a minimum, you’d want to “round down” to the nearest code point boundary; but even better, round down to the nearest grapheme cluster boundary. Otherwise, you might be corrupting the last character by cutting off a diacritic, or interrupting a jamo sequence or ZWJ sequence.  And More… There’s much more that could be said about Unicode from a programmer’s perspective! I haven’t gotten into such fun topics as case mapping, collation, compatibility decompositions and confusables, Unicode-aware regexes, or bidirectional text. Nor have I said anything yet about implementation issues—how to efficiently store and look-up data about the sparsely-assigned code points, or how to optimize UTF-8 decoding, string comparison, or NFC normalization. Perhaps I’ll return to some of those things in future posts.  Unicode is a fascinating and complex system. It has a many-to-one mapping between bytes and code points, and on top of that a many-to-one (or, under some circumstances, many-to-many) mapping between code points and “characters”. It has oddball special cases in every corner. But no one ever claimed that representing all written languages was going to be easy, and it’s clear that we’re never going back to the bad old days of a patchwork of incompatible encodings.  Further reading:  The Unicode Standard UTF-8 Everywhere Manifesto Dark corners of Unicode by Eevee ICU (International Components for Unicode)—C/C++/Java libraries implementing many Unicode algorithms and related things Python 3 Unicode Howto Google Noto Fonts—set of fonts intended to cover all assigned code points"""



text3="""hiweoberfjenfnfenflewnfnbhfgrfhaweufhefkldsnsdnlkdfsoifhieownfenwfsdclksdnfs3590u=32-je]x,prmpcrthrwmeworw,kerctrf9n"""
# integers=list(text.encode('utf-8'))
text5="hello world"
text4="Regular expression patterns are compiled into a series of bytecodes which are then executed by a matching engine written in C. For advanced use, it may be necessary to pay careful attention to how the engine will execute a given RE, and write the RE in a certain way in order to produce bytecode that runs faster. Optimization isn’t covered in this document, because it requires that you have a good understanding of the matching engine’s internals."
merges=bpe(text,30)
# print(encode(text5,merges))
print(decode(encode(text5,merges),merges))
# print(bpe(integers,20))
print(text4==decode(encode(text4,merges),merges))